#!/usr/bin/env bash
# ═══════════════════════════════════════════════════════════════════════════
# IFA - Ifá-Lang Command Line Interface
# The Yoruba Programming Language
# ═══════════════════════════════════════════════════════════════════════════

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
IFA_HOME="$(dirname "$SCRIPT_DIR")"
IFA_SRC="$IFA_HOME/src"
IFA_LIB="$IFA_HOME/lib"

# Check if Python is available
if ! command -v python3 &> /dev/null; then
    if ! command -v python &> /dev/null; then
        echo "[ERROR] Python not found in PATH."
        echo "Please install Python 3.8+ from https://python.org"
        exit 1
    fi
    PYTHON_CMD="python"
else
    PYTHON_CMD="python3"
fi

# Set PYTHONPATH to include our lib directory
export PYTHONPATH="$IFA_HOME:$PYTHONPATH"

# Forward all arguments to the CLI
exec "$PYTHON_CMD" "$IFA_SRC/cli.py" "$@"
