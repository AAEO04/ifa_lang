// ═══════════════════════════════════════════════════════════════════════════
// PHASE2_TEST.IFA - Advanced Developer Experience Features
// Demonstrates BOTH Yoruba and English syntax
// Features: Regex, Dates, Environment Variables
// ═══════════════════════════════════════════════════════════════════════════

// IMPORTS: Mix Yoruba and English
ìbà Ika;       // Yoruba: String/Regex domain
import Iwori;  // English: Time/Date domain
ìbà Ogbe;      // Yoruba: System/Env domain
import Okanran; // English: Assertions domain
ìbà Irosu;     // Yoruba: Output domain

// ═══════════════════════════════════════════════════════════════════════════
// 1. REGEX TEST
// ═══════════════════════════════════════════════════════════════════════════

ayanmọ email = "user@example.com";  // Yoruba variable

// Yoruba: wa = search/find
let is_valid = Ika.wa(r"^[\w\.]+@[\w\.]+$", email);  // English variable
Irosu.fo("Email Valid: " + is_valid);

// Yoruba: daju = assert/confirm
Okanran.daju(is_valid, otito, "Email regex should match");

// Extract domain - Yoruba: po = match/extract
ayanmọ domain = Ika.po(r"@([\w\.]+)", email);
Irosu.fo("Domain: " + domain);
Okanran.daju("example.com", domain, "Domain extraction");

// ═══════════════════════════════════════════════════════════════════════════
// 2. DATE TEST
// ═══════════════════════════════════════════════════════════════════════════

// Yoruba: ojo = day/date
ayanmọ today = Iwori.ojo("%Y-%m-%d");
Irosu.fo("Today: " + today);

// Check date format length (YYYY-MM-DD = 10 chars)
// Yoruba: gigun = length
let date_length = Ika.gigun(today);
Okanran.daju(10, date_length, "Date format should be 10 chars");

// Yoruba: ago = time
let now = Iwori.ago();
Irosu.fo("Current time: " + now);

// ═══════════════════════════════════════════════════════════════════════════
// 3. ENVIRONMENT VARIABLES
// ═══════════════════════════════════════════════════════════════════════════

// Yoruba: ayika = environment/surroundings
ayanmọ path = Ogbe.ayika("PATH");
Irosu.fo("PATH found: " + (Ika.gigun(path) > 0));

// English: get environment variable
let username = Ogbe.ayika("USERNAME");
ti Ika.gigun(username) > 0 {           // Yoruba: ti = if
    Irosu.fo("Username: " + username);
} else {                               // English: else
    Irosu.fo("USERNAME not set");
}

// ═══════════════════════════════════════════════════════════════════════════
// 4. TEST PASS/FAIL DEMONSTRATION
// ═══════════════════════════════════════════════════════════════════════════

Irosu.fo("\n✅ All phase 2 tests passed!");

// Uncomment to test failure:
// Yoruba: daju = assert
// Okanran.daju(iro, otito, "This should fail");

àṣẹ;  // Yoruba: end
