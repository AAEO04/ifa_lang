// ═══════════════════════════════════════════════════════════════════════════
// CRASH_TEST.IFA - Panic Handler / Crash Recovery Demo
// Demonstrates BOTH Yoruba and English syntax
// ═══════════════════════════════════════════════════════════════════════════
// When the program crashes, the flight recorder automatically dumps
// showing the last actions before the crash.
// ═══════════════════════════════════════════════════════════════════════════

// IMPORTS: Mix Yoruba and English
ìbà Irosu;     // Yoruba: Output
import Obara;  // English: Math
ìbà Otura;     // Yoruba: Network
import Odi;    // English: File
ìbà Ogunda;    // Yoruba: Arrays

// ═══════════════════════════════════════════════════════════════════════════
// 1. NORMAL OPERATIONS (these get recorded)
// ═══════════════════════════════════════════════════════════════════════════
Irosu.fo("Starting crash test...");
Irosu.fo("Step 1: Initializing");

// Mix Yoruba and English variables
ayanmọ x = 100;  // Yoruba: ayanmọ
let y = 50;      // English: let

Irosu.fo("Step 2: Variables set (x=" + x + ", y=" + y + ")");

// ═══════════════════════════════════════════════════════════════════════════
// 2. MATH OPERATIONS
// ═══════════════════════════════════════════════════════════════════════════
ayanmọ sum = Obara.fikun(x, y);  // Yoruba: fikun = add
Irosu.fo("Step 3: Math completed (sum=" + sum + ")");

// ═══════════════════════════════════════════════════════════════════════════
// 3. NETWORK CALL (simulated)
// ═══════════════════════════════════════════════════════════════════════════
Otura.ran("Sending data to server...");  // Yoruba: ran = send
Irosu.fo("Step 4: Network call made");

// ═══════════════════════════════════════════════════════════════════════════
// 4. MEMORY STORAGE
// ═══════════════════════════════════════════════════════════════════════════
Odi.fi(42, x);  // Yoruba: fi = put/store
Irosu.fo("Step 5: Saved to memory");

// ═══════════════════════════════════════════════════════════════════════════
// THE CRASH MOMENT
// When this panics, the flight recorder will dump automatically!
// ═══════════════════════════════════════════════════════════════════════════
Irosu.fo("Step 6: About to crash...");

// Uncomment one of these to test crash:
// Division by zero - using Yoruba: ti = if
// ti otito {                    // if true
//     Ogunda.ge(x, 0);          // Yoruba: ge = divide/cut → crash!
// }

// Or using English: if
// if true {
//     panic!("Test panic");
// }

// Normal end - no crash
Irosu.fo("No crash occurred (uncomment line above to test)");
àṣẹ;  // Yoruba: end
