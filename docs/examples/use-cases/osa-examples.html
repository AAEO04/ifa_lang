<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Osa Use Cases - Parallel Processing Examples</title>
    <style>
        :root {
            --bg-dark: #0f0f1a;
            --bg-card: #1a1a2e;
            --accent: #e94560;
            --gold: #ffd700;
            --text: #eaeaea;
            --text-dim: #a0a0a0;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            color: var(--gold);
            font-size: 2.5rem;
        }

        h2 {
            color: var(--gold);
            margin: 2.5rem 0 1rem;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        p {
            margin: 1rem 0;
        }

        pre {
            background: #0d1321;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
            color: var(--gold);
        }

        a {
            color: var(--gold);
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-dim);
            border-top: 1px solid var(--accent);
            margin-top: 3rem;
        }
    </style>
</head>


    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <div class="breadcrumbs-container">
            <ul class="breadcrumb-list">
                <!-- Breadcrumbs will be generated by JavaScript -->
            </ul>
        </div>
    </div>
    <div class="container">
        <h1>? Osa: Parallel Processing</h1>
        <p>High-performance concurrent data processing.</p>

        <h2>Use Case 1: Batch Image Resizing</h2>
        <pre><code>// batch_resize.ifa - Parallel image processing

ise resize_image(path, width, height) {
    ayanmo img = Fidio.load_image(path);
    ayanmo resized = Fidio.resize(img, width, height);
    
    ayanmo filename = Ika.split(path, "/");
    ayanmo name = Ogunda.last(filename);
    ayanmo output = "thumbnails/" + name;
    
    Fidio.save_image(resized, output);
    padap? output;
}

ise batch_resize(input_dir, width, height) {
    ayanmo files = Odi.list(input_dir);
    ayanmo images = [];
    
    // Filter image files
    fun file ninu files {
        ti (Ika.ends_with(file, ".jpg") || Ika.ends_with(file, ".png")) {
            ayanmo images = Ogunda.push(images, input_dir + "/" + file);
        }
    }
    
    Irosu.fo("Processing " + Ogunda.len(images) + " images in parallel...");
    
    // Process in parallel
    ayanmo start = Iwori.now_ms();
    ayanmo results = Osa.map(images, |path| {
        resize_image(path, width, height)
    });
    ayanmo elapsed = Iwori.now_ms() - start;
    
    Irosu.fo("? Completed in " + elapsed + "ms");
    Irosu.fo("Processed " + Ogunda.len(results) + " images");
}

// Create output directory
Odi.mkdir("thumbnails");
batch_resize("./photos", 200, 200);</code></pre>

        <h2>Use Case 2: Log Analysis Pipeline</h2>
        <pre><code>// log_analysis.ifa - Parallel log file analysis

ise parse_log_line(line) {
    // Format: [timestamp] level message
    ayanmo parts = Ika.split(line, " ");
    ti (Ogunda.len(parts) < 3) {
        padap? nil;
    }
    
    padap? {
        "timestamp": Ogunda.get(parts, 0),
        "level": Ogunda.get(parts, 1),
        "message": Ika.join(Ogunda.slice(parts, 2, Ogunda.len(parts)), " ")
    };
}

ise analyze_logs(log_files) {
    // Read all files in parallel
    ayanmo all_lines = Osa.flat_map(log_files, |file| {
        ayanmo content = Odi.read(file);
        padap? Ika.split(content, "\n");
    });
    
    // Parse lines in parallel
    ayanmo entries = Osa.filter_map(all_lines, parse_log_line);
    
    // Count by level in parallel
    ayanmo error_count = Osa.count(entries, |e| e["level"] == "ERROR");
    ayanmo warn_count = Osa.count(entries, |e| e["level"] == "WARN");
    ayanmo info_count = Osa.count(entries, |e| e["level"] == "INFO");
    
    // Extract error messages
    ayanmo errors = Osa.filter(entries, |e| e["level"] == "ERROR");
    
    padap? {
        "total": Ogunda.len(entries),
        "errors": error_count,
        "warnings": warn_count,
        "info": info_count,
        "error_messages": Osa.map(errors, |e| e["message"])
    };
}

// Usage
ayanmo files = ["app.log", "server.log", "worker.log"];
ayanmo stats = analyze_logs(files);

Irosu.fo("?? Log Analysis Results");
Irosu.fo("Total entries: " + stats["total"]);
Irosu.fo("Errors: " + stats["errors"]);
Irosu.fo("Warnings: " + stats["warnings"]);
Irosu.fo("Info: " + stats["info"]);</code></pre>

        <h2>Use Case 3: Data Aggregation</h2>
        <pre><code>// aggregate.ifa - Parallel data aggregation

ayanmo sales_data = [
    {"region": "North", "product": "A", "amount": 1500},
    {"region": "South", "product": "B", "amount": 2300},
    {"region": "North", "product": "B", "amount": 1800},
    {"region": "East", "product": "A", "amount": 950},
    {"region": "West", "product": "C", "amount": 3200},
    {"region": "North", "product": "C", "amount": 2100},
    {"region": "South", "product": "A", "amount": 1750},
    {"region": "East", "product": "B", "amount": 1400}
];

// Parallel aggregations
ayanmo total = Osa.sum(Osa.map(sales_data, |s| s["amount"]));
ayanmo avg = total / Ogunda.len(sales_data);
ayanmo max_sale = Osa.max(Osa.map(sales_data, |s| s["amount"]));
ayanmo min_sale = Osa.min(Osa.map(sales_data, |s| s["amount"]));

// Group by region (parallel reduce)
ise group_by_region(data) {
    ayanmo regions = {};
    
    fun sale ninu data {
        ayanmo region = sale["region"];
        ti (regions[region] == nil) {
            regions[region] = 0;
        }
        regions[region] = regions[region] + sale["amount"];
    }
    
    padap? regions;
}

ayanmo by_region = group_by_region(sales_data);

Irosu.fo("?? Sales Summary");
Irosu.fo("----------------");
Irosu.fo("Total: $" + total);
Irosu.fo("Average: $" + avg);
Irosu.fo("Max: $" + max_sale);
Irosu.fo("Min: $" + min_sale);
Irosu.fo("\nBy Region:");
fun region key(by_region) {
    Irosu.fo("  " + region + ": $" + by_region[region]);
}</code></pre>

        <h2>Use Case 4: Parallel Web Scraping</h2>
        <pre><code>// scraper.ifa - Fetch multiple URLs concurrently

ise fetch_page(url) {
    ayanmo start = Iwori.now_ms();
    ayanmo response = Otura.get(url);
    ayanmo elapsed = Iwori.now_ms() - start;
    
    padap? {
        "url": url,
        "status": response["status"],
        "size": Ika.len(response["body"]),
        "time_ms": elapsed
    };
}

ise scrape_urls(urls) {
    Irosu.fo("Fetching " + Ogunda.len(urls) + " URLs in parallel...");
    
    ayanmo start = Iwori.now_ms();
    ayanmo results = Osa.map(urls, fetch_page);
    ayanmo total_time = Iwori.now_ms() - start;
    
    // Calculate stats
    ayanmo successful = Osa.filter(results, |r| r["status"] == 200);
    ayanmo total_size = Osa.sum(Osa.map(results, |r| r["size"]));
    ayanmo avg_time = Osa.sum(Osa.map(results, |r| r["time_ms"])) / Ogunda.len(results);
    
    Irosu.fo("\n?? Scraping Results");
    Irosu.fo("-------------------");
    Irosu.fo("Total time: " + total_time + "ms");
    Irosu.fo("Successful: " + Ogunda.len(successful) + "/" + Ogunda.len(urls));
    Irosu.fo("Total data: " + (total_size / 1024) + " KB");
    Irosu.fo("Avg response: " + avg_time + "ms");
    
    padap? results;
}

// Usage
ayanmo urls = [
    "https://api.example.com/users",
    "https://api.example.com/products",
    "https://api.example.com/orders",
    "https://api.example.com/inventory",
    "https://api.example.com/reports"
];

scrape_urls(urls);</code></pre>

        <footer class="doc-footer">
            <p><a href="domains.html">? All Domain Use Cases</a></p>
            <p><a href="../../index.html">Documentation Home</a></p>
        </footer>
    </div>
    <script src="../../js/nav.js"></script>
    <script src="../../js/common.js"></script>
</body>

</html>

