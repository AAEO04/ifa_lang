<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type System - Ifá-Lang</title>
    <style>
        :root {
            --bg-dark: #0f0f1a;
            --bg-card: #1a1a2e;
            --accent: #e94560;
            --gold: #ffd700;
            --text: #eaeaea;
            --text-dim: #a0a0a0;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            color: var(--gold);
            font-size: 2.5rem;
        }

        h2 {
            color: var(--gold);
            margin: 2.5rem 0 1rem;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        h3 {
            color: var(--accent);
            margin: 1.5rem 0 0.5rem;
        }

        p {
            margin: 1rem 0;
        }

        pre {
            background: #0d1321;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
            color: var(--gold);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th,
        td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--bg-card);
        }

        th {
            color: var(--gold);
        }

        a {
            color: var(--gold);
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-dim);
            border-top: 1px solid var(--accent);
            margin-top: 3rem;
        }
    </style>
</head>


<!-- Breadcrumbs -->
<div class="breadcrumbs">
    <div class="breadcrumbs-container">
        <ul class="breadcrumb-list">
            <!-- Breadcrumbs will be generated by JavaScript -->
        </ul>
    </div>
</div>
<div class="container">
    <h1>?? ifa-types Crate</h1>
    <p>Shared type system used across all Ifá-Lang runtimes.</p>
    <p><strong>Source:</strong> <code>crates/ifa-types/src/lib.rs</code></p>

    <h2>Purpose</h2>
    <p>This crate provides the core types shared between:</p>
    <ul style="margin-left: 1.5rem;">
        <li><strong>ifa-core</strong> — Interpreter and VM</li>
        <li><strong>ifa-std</strong> — Standard library</li>
        <li><strong>ifa-embedded</strong> — Embedded runtime</li>
        <li><strong>Transpiler output</strong> — Generated Rust code</li>
    </ul>

    <h2>Modules</h2>
    <table>
        <tr>
            <th>Module</th>
            <th>Exports</th>
        </tr>
        <tr>
            <td><code>value</code></td>
            <td><code>IfaValue</code></td>
        </tr>
        <tr>
            <td><code>error</code></td>
            <td><code>IfaError</code>, <code>IfaResult</code>, <code>SpannedError</code></td>
        </tr>
        <tr>
            <td><code>domain</code></td>
            <td><code>OduDomain</code></td>
        </tr>
        <tr>
            <td><code>traits</code></td>
            <td>Common trait definitions</td>
        </tr>
    </table>

    <h2>IfaValue</h2>
    <p>The dynamic value container for all Ifá-Lang values:</p>
    <pre><code>pub enum IfaValue {
    Nil,                              // Null/None
    Bool(bool),                       // true/false (otito/iro)
    Number(f64),                      // All numbers are 64-bit float
    String(Rc<String>),               // Reference-counted strings
    List(Rc<RefCell<Vec<IfaValue>>>), // Mutable lists
    Map(Rc<RefCell<HashMap<...>>>),   // Mutable maps/objects
    Function(Rc<Function>),           // User-defined functions
    NativeFunction(Rc<NativeFn>),     // Built-in functions
    Closure(Rc<Closure>),             // Functions with captured env
}</code></pre>

    <h2>IfaError / IfaResult</h2>
    <pre><code>pub type IfaResult<T> = Result<T, IfaError>;

pub enum IfaError {
    Parse(String),
    Runtime(String),
    Type(String),
    Undefined(String),
    // ...
}

pub struct SpannedError {
    pub error: IfaError,
    pub line: usize,
    pub column: usize,
    pub filename: Option<String>,
}</code></pre>

    <h2>OduDomain</h2>
    <p>Enum representing the 16 Odù domains plus infrastructure and stacks:</p>
    <pre><code>pub enum OduDomain {
    // The 16 Principal Odù
    Ogbe,     // System utilities
    Oyeku,    // Process management
    Iwori,    // Time/date
    Odi,      // File I/O
    Irosu,    // Console I/O
    Owonrin,  // Random
    Obara,    // Math (add)
    Okanran,  // Error handling
    Ogunda,   // Array/list
    Osa,      // Async/parallel
    Ika,      // String
    Oturupon, // Math (sub)
    Otura,    // Network
    Irete,    // Crypto
    Ose,      // UI
    Ofun,     // Permissions
    
    // Infrastructure
    Cpu,
    Gpu,
    Storage,
    Kernel,
    Shaders,
    
    // Stacks
    Backend,
    Frontend,
    Crypto,
    GameDev,
    ML,
    IoT,
    Fusion,
}</code></pre>

    <h2>Rust Usage</h2>
    <pre><code>// Add to Cargo.toml
[dependencies]
ifa-types = "1.2"

// Import
use ifa_types::{IfaValue, IfaError, IfaResult, OduDomain};</code></pre>

    <footer class="doc-footer">
        <p><a href="../reference/types.html">? Type Reference</a> · <a href="../index.html">Internals ?</a></p>
        <p><a href="../index.html">Documentation Home</a></p>
    </footer>
</div>

<script src="../js/nav.js"></script>
<script src="../js/common.js"></script>
</body>

</html>