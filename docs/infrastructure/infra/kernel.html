<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kernel Infrastructure - Ifá-Lang</title>
    <style>
        :root {
            --bg-dark: #0f0f1a;
            --bg-card: #1a1a2e;
            --accent: #e94560;
            --gold: #ffd700;
            --text: #eaeaea;
            --text-dim: #a0a0a0;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            color: var(--gold);
            font-size: 2.5rem;
        }

        h2 {
            color: var(--gold);
            margin: 2.5rem 0 1rem;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        p {
            margin: 1rem 0;
        }

        pre {
            background: #0d1321;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
            color: var(--gold);
        }

        .api-card {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .api-card h4 {
            color: var(--gold);
            margin: 0 0 0.5rem;
            font-family: monospace;
        }

        a {
            color: var(--gold);
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-dim);
            border-top: 1px solid var(--accent);
            margin-top: 3rem;
        }
    </style>
</head>


    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <div class="breadcrumbs-container">
            <ul class="breadcrumb-list">
                <!-- Breadcrumbs will be generated by JavaScript -->
            </ul>
        </div>
    </div>
    <div class="container">
        <h1>?? Kernel Infrastructure</h1>
        <p>System calls and hardware information.</p>
        <p><strong>Source:</strong> <code>crates/ifa-std/src/infra/kernel.rs</code> (68 lines)</p>
        <p><strong>Feature Flag:</strong> <code>sysinfo</code> (for memory/uptime functions)</p>

        <h2>Core Functions</h2>

        <div class="api-card">
            <h4>num_cores() ? usize</h4>
            <p>Get number of logical CPU cores. Always available, no feature flag required.</p>
            <pre><code>ayanmo cores = Kernel.num_cores();
Irosu.fo("CPU cores: " + cores);

// Use for scaling worker pools
ayanmo workers = Kernel.num_cores() * 2;</code></pre>
        </div>

        <h2>System Info (requires <code>sysinfo</code> feature)</h2>

        <div class="api-card">
            <h4>uptime() ? u64</h4>
            <p>Get system uptime in seconds.</p>
            <pre><code>ayanmo uptime = Kernel.uptime();
ayanmo days = uptime / 86400;
ayanmo hours = (uptime % 86400) / 3600;
Irosu.fo("System uptime: " + days + " days, " + hours + " hours");</code></pre>
        </div>

        <div class="api-card">
            <h4>total_memory() ? u64</h4>
            <p>Get total system memory in bytes (cached for performance).</p>
            <pre><code>ayanmo total = Kernel.total_memory();
Irosu.fo("Total RAM: " + (total / 1024 / 1024 / 1024) + " GB");</code></pre>
        </div>

        <div class="api-card">
            <h4>available_memory() ? u64</h4>
            <p>Get available system memory in bytes (refreshes on each call).</p>
            <pre><code>ayanmo available = Kernel.available_memory();
ayanmo total = Kernel.total_memory();
ayanmo percent_used = ((total - available) * 100) / total;
Irosu.fo("Memory usage: " + percent_used + "%");</code></pre>
        </div>

        <div class="api-card">
            <h4>memory_stats() ? MemoryStats</h4>
            <p>Get a fresh snapshot of memory statistics.</p>
            <pre><code>ayanmo stats = Kernel.memory_stats();
Irosu.fo("Total: " + stats.total);
Irosu.fo("Available: " + stats.available);
Irosu.fo("Used: " + stats.used);</code></pre>
        </div>

        <h2>MemoryStats Struct</h2>
        <pre><code>// MemoryStats fields:
{
    total: u64,       // Total system memory in bytes
    available: u64,   // Available memory in bytes
    used: u64         // Used memory in bytes
}</code></pre>

        <h2>Use Cases</h2>

        <h3>Resource-Aware Scaling</h3>
        <pre><code>// Scale batch size based on available memory
ayanmo available = Kernel.available_memory();
ayanmo batch_size = 1000;

ti (available > 8 * 1024 * 1024 * 1024) {
    ayanmo batch_size = 10000;  // 8GB+ available
} bib?k? ti (available > 4 * 1024 * 1024 * 1024) {
    ayanmo batch_size = 5000;   // 4GB+ available
}

Irosu.fo("Processing in batches of " + batch_size);</code></pre>

        <h3>System Monitoring</h3>
        <pre><code>// Simple system monitor
ise display_system_info() {
    Irosu.fo("??? System Information");
    Irosu.fo("---------------------");
    Irosu.fo("CPU Cores: " + Kernel.num_cores());
    Irosu.fo("Uptime: " + Kernel.uptime() + " seconds");
    
    ayanmo stats = Kernel.memory_stats();
    ayanmo gb = 1024 * 1024 * 1024;
    Irosu.fo("Memory: " + (stats.used / gb) + "/" + (stats.total / gb) + " GB");
}

display_system_info();</code></pre>

        <footer class="doc-footer">
            <p><a href="storage.html">? Storage</a> · <a href="shaders.html">Shaders ?</a></p>
            <p><a href="../../index.html">Documentation Home</a></p>
        </footer>
    </div>
    <script src="../../js/nav.js"></script>
    <script src="../../js/common.js"></script>
</body>

</html>

